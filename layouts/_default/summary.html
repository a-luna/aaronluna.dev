{{ $postImage := .Page.Resources.GetMatch (printf "*cover*") }}
<article class="article-preview list__item post default">
    <div class="article-preview-top-flex">
        {{ if $postImage }}
        {{ $thumbnail := $postImage.Fill "400x256" }}
        <figure>
            <a href="{{ .RelPermalink }}">
                <img src="{{ $thumbnail.RelPermalink }}" alt="{{ .Title }}" />
            </a>
        </figure>
        {{ end }}
        <div class="post__title-wrapper">
            <h3 class="list__title post__title ">
                <a href="{{ .RelPermalink }}">{{ .Title }}</a>
            </h3>
            {{- partial "post_meta/categories.html" . -}}
        </div>
    </div>
    <div class="article-preview-summary">
        <p>{{- if not .Date.IsZero }}<span class="date-published">{{.Date.Format ( .Site.Params.dateformat | default "Jan 02 2006")}} &mdash; </span>{{ end -}}{{ .Summary }}</p>
    </div>
</article>
