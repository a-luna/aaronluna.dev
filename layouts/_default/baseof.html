<!DOCTYPE html>
<html class="no-js" lang="{{ .Site.LanguageCode | default "en-us" }}">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>{{ block "title" . }}{{ if not .IsHome }}{{ .Title }} - {{ end }}{{ .Site.Title }}{{ end }}</title>
    <script>
        (function(d, e) {
            d[e] = d[e].replace("no-js", "js");
        })(document.documentElement, "className");
    </script>
    <meta name="description" content="{{ if .IsHome }}{{ .Site.Params.description }}{{ else }}{{ .Params.Description }}{{ end }}">
    {{ if .Site.Params.opengraph }}
        {{ template "_internal/opengraph.html" . }}
    {{ end }}
    {{ if .Site.Params.twitter_cards }}
        {{ template "_internal/twitter_cards.html" . }}
    {{ end }}
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    {{ with .OutputFormats.Get "rss" -}}
        {{ printf `<link rel="%s" type="%s" href="%s" title="%s">` .Rel .MediaType.Type .RelPermalink $.Site.Title | safeHTML }}
    {{ end -}}
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300italic,400italic,600italic,700italic,800italic,300,400,600,700,800" type="text/css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700" type="text/css">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    {{ partial "styles" . }}
    <link rel="shortcut icon" href="{{ "favicon.ico" | relURL }}">
    {{- if not .Site.IsServer }}
        {{ template "_internal/google_analytics_async.html" . }}
    {{- end }}
</head>

{{ if eq .Section "blog" }}
	{{ .Scratch.Set "body_classes" "body blog-list" }}
{{ else if or (eq .Section "series") (eq .Section "flask_api_tutorial") }}
	{{ .Scratch.Set "body_classes" "body tutorial" }}
{{ else }}
  {{ .Scratch.Set "body_classes" "body" }}
{{ end }}

<body class="{{ .Scratch.Get "body_classes" }}">
    <div class="container container--outer">
        {{ partial "header" . }}
        <div class="wrapper flex">
            <div class="primary">
                {{ block "main" . }}
                {{ with .Content }}
                <div class="content main__content clearfix">
                    {{ . }}
                </div>
                {{ end }}
                {{ end }}
            </div>
            <div class="search-results hide-element">
                <h1 class="search-query">Search results for: <span id="query"></span></h1>
                <ul></ul>
            </div>
            {{ if eq .Section "blog" }}
                {{ partial "sidebar_blog.html" . }}
            {{ else }}
                {{ partial "sidebar.html" . }}
            {{ end }}
        </div>
        {{ partial "footer" . }}
    </div>
    {{ partial "search_scripts.html" . }}
    {{ $mainjs := resources.Get "js/main.js" | minify | fingerprint }}
    <script type="text/javascript" src="{{ $mainjs.Permalink }}" integrity="{{ $mainjs.Data.Integrity }}"></script>
</body>
</html>
